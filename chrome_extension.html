<!doctype html><html><head><meta charset=UTF-8><title>Chrome Extension - By riskers</title><link rel=stylesheet href=//cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdn.staticfile.org/prism/1.15.0/themes/prism.min.css><link rel=stylesheet href=//cdn.staticfile.org/KaTeX/0.10.0-rc.1/katex.min.css><link rel=stylesheet href=//cdn.staticfile.org/prism/1.15.0/themes/prism-dark.min.css><link href=./md/img/css/chunk-vendors.676174ea.css rel=stylesheet></head><body><div><article id=webslides><section slide class=slide :class=aligncenter><div class="wrap aligncenter" wrap=true><h1>Chrome Extension</h1><hr><p><a href=https://github.com/riskers/blog target=_blank><i class="fa fa-home"></i></a> <a href=https://github.com/riskers/ target=_blank><i class="fa fa-github"></i></a> <a href=http://weibo.com/damaoxianjia123 target=_blank><i class="fa fa-weibo"></i></a></p></div></section><section slide class=slide :class=aligncenter><div class="wrap aligncenter" wrap=true><ul><li :&amp;.fadein="">Chrome Extension 能做什么</li><li>Chrome Extension 核心<ul><li>background</li><li>content_scripts</li><li>inject_scripts</li></ul></li><li>Chrome 开发概述<ul><li><a href=https://developer.chrome.com/extensions/manifest target=_blank>manifest.json</a></li><li><a href=https://developer.chrome.com/extensions/api_index target=_blank>Chrome Extension API</a></li></ul></li><li>Chrome Extension VS Chrome App</li><li>Chrome 安全问题</li></ul><hr></div></section><section slide class=slide><div class=wrap wrap=true><h1>Chrome Extension 能做什么</h1><ul><li :&amp;.fadein="">popup</li><li>option</li><li>omnibox</li><li>contextMenus</li><li>override</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1>popup - 常用选项</h1><p><img src=https://github-riskers-blog.oss-cn-qingdao.aliyuncs.com/20200327172425.gif alt=""></p></div></section><section slide class=slide><div class=wrap wrap=true><h1>options - 配置</h1><p><img src=https://github-riskers-blog.oss-cn-qingdao.aliyuncs.com/20200327172409.gif alt=""></p></div></section><section slide class=slide><div class=wrap wrap=true><h1>omnibox - 搜索栏</h1><p><img src=https://github-riskers-blog.oss-cn-qingdao.aliyuncs.com/20200327172340.gif alt=""></p></div></section><section slide class=slide><div class=wrap wrap=true><h1>contextMenus - 右键菜单</h1></div></section><section slide class=slide><div class=wrap wrap=true><h1>override - 自定义 Chrome 页面</h1><ul><li :&amp;.fadein="">history:: 浏览历史</li><li>newtab:: 新 Tab</li><li>bookmarks:: 收藏夹</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1>其他</h1><ul><li :&amp;.fadein=""><a href=https://developer.chrome.com/extensions/tabs target=_blank>tabs</a></li><li><a href=https://developer.chrome.com/extensions/cookies target=_blank>cookies</a></li><li><a href=https://developer.chrome.com/extensions/storage target=_blank>storage</a></li><li><a href=https://developer.chrome.com/extensions/webRequest target=_blank>webRequest</a></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1>Chrome Extension 核心</h1><ul><li :&amp;.fadein="">background 主进程<ul><li>生命周期:: 常驻 Chrome 后台</li></ul></li><li>content_scripts 注入 CSS / JavaScript<ul><li>控制 DOM</li></ul></li><li>inject_scripts 注入 CSS / JavaScript?<ul><li>获取 <code>window</code> 变量</li></ul></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1>三者通信</h1><p><img src=https://github-riskers-blog.oss-cn-qingdao.aliyuncs.com/20200327172320.png alt=""></p></div></section><section slide class=slide><div class=wrap wrap=true><ul><li>background &lt;-&gt; content_scripts:: <a href=https://developer.chrome.com/apps/runtime#event-onMessage target=_blank>chrome.runtime.onMessage</a> / <a href=https://developer.chrome.com/apps/runtime#method-sendMessage target=_blank>chrome.runtime.sendMessage</a></li><li>content_scripts &lt;-&gt; inject_scripts:: <a href=https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage target=_blank>window.postMessage</a> / <a href=https://developer.mozilla.org/zh-CN/docs/Web/API/WindowEventHandlers/onmessage target=_blank>window.onMessage</a></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1>三者权限</h1><table><thead><tr><th></th><th>Chrome API</th><th>DOM</th><th>window 变量</th></tr></thead><tbody><tr><td>background</td><td>All</td><td>None</td><td>None</td></tr><tr><td>content_scripts</td><td>not all</td><td>All</td><td>None</td></tr><tr><td>inject_scripts</td><td>None</td><td>All</td><td>All</td></tr></tbody></table><hr></div></section><section slide class=slide><div class=wrap wrap=true><h1>Chrome Extension VS Chrome App</h1><ul><li>权限不同 (如 FileSystem)</li><li>展现形式不同</li></ul><hr></div></section><section slide class=slide><div class=wrap wrap=true><h1>Chrome Extension 安全问题</h1><h2>无审核，无监控，十分钟上线</h2></div></section><section slide class=slide><div class=wrap wrap=true><h1>Chrome 禁止使用非 web store 下载的扩展</h1><ul><li><p>Windows Chrome 用户自己在 chrome:://extension 安装 crx 的方法在 13 年就已经被<a href=https://blog.chromium.org/2013/11/protecting-windows-users-from-malicious.html target=_blank>禁止</a></p></li><li><p>Mac Chrome 用户安装 crx 的方法在 15 年也被<a href=https://blog.chromium.org/2015/05/continuing-to-protect-chrome-users-from.html target=_blank>禁止</a></p></li><li><p><a href=https://blog.chromium.org/2018/06/improving-extension-transparency-for.html target=_blank>inline-install 被禁止</a></p></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1><a href=https://developer.chrome.com/apps/permission_warnings#permissions_with_warnings target=_blank>permissions_warning</a></h1></div></section><section slide class=slide><div class=wrap wrap=true><p><img src=https://github-riskers-blog.oss-cn-qingdao.aliyuncs.com/20200327172204.png alt=提示权限></p></div></section><section slide class=slide><div class=wrap wrap=true><h1>查看源码</h1><ul><li extension-id="">Mac ~/Library/Application\ Support/Google/Chrome/Default/Extensions/</li></ul><hr></div></section><section slide class=slide><div class=wrap wrap=true><h1>THANKS</h1><hr></div></section><section slide class=slide><div class=wrap wrap=true><h1>Q &amp; A</h1><hr></div></section></article></div><script src="https://www.googletagmanager.com/gtag/js?id=UA-131910384-4"></script><script src=./gtag.js></script><script>window.pluginsOptions = {}



document.addEventListener('DOMContentLoaded', () => {
    let isPrintMode = false;
    if(~location.search.indexOf('print-pdf')){
        isPrintMode = true;
        WebSlides.registerPlugin('scroll', function(){});
    }
    const ws = new WebSlides({
        loop: false
    })
    window.wsInstance = ws;
    if(isPrintMode){
        ws.slides.forEach(s=>s.show())
    }
}, false)</script><script src=./md/img/js/chunk-vendors.js></script><script src=./md/img/js/chrome_extension.js></script></body></html>